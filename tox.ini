[tox]
envlist =
    #pre-commit
    #black
    flake8
    py39

isolated_build = true

[testenv]
description = Run pytest on the codebase
deps =
    pytest
    pydataset
    scikit-learn
    statsmodels
passenv =
    CURL_CA_BUNDLE
    PIP_CACHE_DIR
    PYTEST_*
    REQUESTS_CA_BUNDLE
    SSL_CERT_FILE
commands = pytest

[testenv:flake8]
deps =
    flake8
skip_install = true
commands =
    flake8

[testenv:black]
deps =
    black
skip_install = true
commands =
    black .

[testenv:pre-commit]
deps =
    pre-commit
skip_install = true
commands =
    pre-commit run --all-files
    python -c 'import pathlib; print("hint: run \{\} install to add checks as pre-commit hook".format(pathlib.Path(r"{envdir}") / "bin" / "pre-commit"))'
